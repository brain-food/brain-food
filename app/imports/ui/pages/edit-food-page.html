<template name="Edit_Food_Page">

  {{#if Template.subscriptionsReady}}

    <div style="padding-top: 25px;" class="ui my middle aligned grid container">

      <div class="my twelve wide centered column">

        <form class="ui inverted form recipe-data-form {{ errorClass }}">

          <div style="padding: 50px;">
            <label>RECIPE NAME</label>
            <input value="{{recipeField 'recipename'}}" name="recipename" id="recipename">
          </div>

          <div style="padding-left:50px; padding-right:50px;">
            <img class="ui centered rounded medium image" id='picture' src="{{recipeField 'image'}}">
            <label>IMAGE URL</label>
            <div class="ui fluid input">
              <input placeholder="URL of prepared food" type="text" name="image" id="image" value="{{recipeField 'image'}}">
              <button style="margin-left: 10px;" type="button" class="ui button test-image" id="test-image" name="test-image">Test</button>
            </div>
          </div>
          {{#if displayFieldError 'image' }}
            <div class="ui error message">
              <p>Insert a URL.</p>
            </div>
          {{/if}}

          <div style="padding: 50px;">
            <label>DESCRIPTION</label>
            <textarea rows="2" placeholder="Description" name="description" id="description"
                      value="{{recipeField 'description'}}"></textarea>
            {{#if displayFieldError 'description' }}
              <div class="ui error message">
                <p>You must give a description.</p>
              </div>
            {{/if}}

            <div style="padding: 40px; padding-bottom: 0;">
              <h4 style="text-align: center">INGREDIENTS</h4>
              <div id="ingredients" name="ingredients" style="margin-bottom:10px;">
                {{#each ingredient in recipeField 'ingredients'}}
                  <div class="ui fluid input" style="margin-bottom: 10px;">
                    <input style="width:80%;" type="text" placeholder="Ingredient" name="ingredient" value="{{ingredient}}">
                    <button style="margin-left: 10px; visibility: hidden" type="button" class="ui button remove-ingredient" name="remove-ingredient">X</button>
                  </div>
                {{/each}}
              </div>
              {{#if displayFieldError 'ingredients' }}
                <div class="ui error message">
                  <p>Input ingredients.</p>
                </div>
              {{/if}}
              <button style="margin-bottom: 10px;" type="button" id="add-ingredient" class="ui button add-ingredient">Add ingredient</button>

            </div>

            <h4 style="text-align: center">INSTRUCTIONS</h4>

            <div class="field">
              <textarea placeholder="Instructions" name="instructions" id="instructions" value="{{#each instruction in recipeField 'instructions'}}{{instruction}}&#10;{{/each}}"></textarea>
              {{#if displayFieldError 'instructions'}}
                <div class="ui error message">
                  <p>Input instructions.</p>
                </div>
              {{/if}}
            </div>


          </div>

          <button id="update-food-button" class="ui button update-food-button" type="submit">Update</button>
        </form>

      </div>

    </div>
  {{/if}}

</template>
